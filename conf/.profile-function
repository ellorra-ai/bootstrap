# Generated by Terraform - DO NOT EDIT

function open_url() {

    local current_buffer="$LBUFFER$RBUFFER"

    if [[ "$current_buffer" =~ '^[[:space:]]*(https?|ftp)://[^[:space:]]+[[:space:]]*$' ]];
    then
        local url="$(echo "$current_buffer" | sed -E 's/^[[:space:]]*//; s/[[:space:]]*$//')"
        case "$OSTYPE" in
            darwin*) open "$url" ;;
            *) echo "Unsupported platform" ;;
        esac
        print -s "$url"
        LBUFFER=""
        RBUFFER=""
        zle redisplay
    else
        zle accept-line
    fi
}

zle -N open_url
bindkey '^M' open_url